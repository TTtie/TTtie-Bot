"use strict";!function(e){const t=t=>n=>{const{dataset:d}=n,c=()=>{s.classList.remove("tttie-slide-in"),s.classList.add("tttie-slide-out"),a.classList.add("tttie-fade-out"),e.matchMedia("(prefers-reduced-motion: reduce)").matches?o.remove():s.addEventListener("animationend",()=>{o.remove()},{once:!0})},o=document.createElement("div");o.classList.add("modal","is-active","tttie-fade-in");const a=document.createElement("div");a.classList.add("modal-background");const s=document.createElement("div");s.classList.add("modal-card","tttie-slide-in");const i=document.createElement("header");i.classList.add("modal-card-head");const r=document.createElement("p");r.classList.add("modal-card-title"),r.innerText="Please confirm deletion of this extension",i.appendChild(r);const l=document.createElement("section");l.classList.add("modal-card-body");const m=document.createElement("b");m.innerText="This action is irreversible!";const u=document.createElement("input");u.type="checkbox",u.id=`delete-store-${d.id}`;const E=document.createElement("label");E.classList.add("checkbox");const p=document.createElement("span");p.innerText=`Delete the extension store (ID: ${d.store})`,E.append(u,p),l.append(document.createTextNode(`Are you sure you want to delete the extension ${d.name} (${d.id})?`),document.createElement("br"),m,document.createElement("br"),E);const b=document.createElement("footer");b.classList.add("modal-card-foot");const L=document.createElement("button");L.classList.add("button","is-danger"),L.innerText="Delete",L.addEventListener("click",()=>{c(),e.ttbot.deleteExtension(u.checked,d.id).then(()=>{n.remove();const e=document.createElement("div");e.classList.add("notification");const c=document.createElement("b");c.innerText=d.name;const o=document.createElement("b");o.innerText=d.id,document.createElement("button").addEventListener("click",()=>{a(),clearTimeout(s)});const a=()=>void e.remove();e.append("The extension ",c," (",o,") has been deleted."),t.prepend(e);const s=setTimeout(()=>a(),1e4)})});const v=document.createElement("button");v.classList.add("button"),v.innerText="Cancel",v.addEventListener("click",()=>{c()}),b.append(L,v),s.append(i,l,b),o.append(a,s),document.body.appendChild(o)},n=document.querySelector("div.extension-list"),d=n.querySelectorAll("article.media");for(const e of d){const d=e.querySelector("button.delete-extension");d&&d.addEventListener("click",()=>{t(n)(e)})}}(window);