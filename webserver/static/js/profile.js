"use strict";!function(e){e.addEventListener("load",()=>{const t={"en-US":"en",en:"en",cs:"cs-CZ","cs-CZ":"cs-CZ",sk:"sk-SK","sk-SK":"sk-SK",ro:"ro-RO","ro-RO":"ro-RO"},o=document.querySelector("button#autofill"),n=document.querySelector("button#delete"),s=document.querySelector("button#save"),l=document.querySelector("select#tttie-profile-locale"),a=document.querySelector("input#tttie-profile-tz");o.addEventListener("click",()=>{const e=Intl.DateTimeFormat().resolvedOptions(),o=Object.prototype.hasOwnProperty.call(t,e.locale)?t[e.locale]:"en",n=l.querySelectorAll("option");for(const e of n)if(e.value===o){e.selected=!0;break}a.value=e.timeZone}),n.addEventListener("click",()=>{(()=>{const t=()=>{s.classList.remove("tttie-slide-in"),s.classList.add("tttie-slide-out"),n.classList.add("tttie-fade-out"),s.addEventListener("animationend",()=>{o.remove()},{once:!0})},o=document.createElement("div");o.classList.add("modal","is-active","tttie-fade-in");const n=document.createElement("div");n.classList.add("modal-background");const s=document.createElement("div");s.classList.add("modal-card","tttie-slide-in");const l=document.createElement("header");l.classList.add("modal-card-head");const a=document.createElement("p");a.classList.add("modal-card-title"),a.innerText="Please confirm the deletion of your profile",l.appendChild(a);const c=document.createElement("section");c.classList.add("modal-card-body");const d=document.createElement("b");d.innerText="This action is irreversible!",c.append("Are you sure you want to delete your profile? ",d);const i=document.createElement("footer");i.classList.add("modal-card-foot");const r=document.createElement("button");r.classList.add("button","is-danger"),r.innerText="Delete",r.addEventListener("click",()=>{t(),e.ttbot.deleteProfile().then(()=>{e.location.assign("/")})});const u=document.createElement("button");u.classList.add("button"),u.innerText="Cancel",u.addEventListener("click",()=>{t()}),i.append(r,u),s.append(l,c,i),o.append(n,s),document.body.appendChild(o)})()}),s.addEventListener("click",()=>{s.disabled=!0,s.classList.add("is-loading");const t={timezone:a.value},o=l.querySelectorAll("option");for(const e of o)if(e.selected){t.locale=e.value;break}e.ttbot.updateProfile(t).then(e=>{c(e),s.classList.remove("is-loading"),s.disabled=!1})});const c=e=>{const t=l.querySelectorAll("option");for(const o of t)if(o.value===e.locale){o.selected=!0,l.parentElement.classList.remove("is-loading");break}a.value=e.timezone,a.parentElement.classList.remove("is-loading")};e.ttbot.getProfile().then(c)})}(window);