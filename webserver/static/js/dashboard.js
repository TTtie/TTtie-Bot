!function(e){function t(e,t){return function(o){o.innerHTML="",o.disabled=!1;var l=document.createElement("option");l.value="",l.innerText="None",l.selected=!0,o.appendChild(l),t.forEach(function(t){var l=document.createElement("option");l.value=t.id,l.innerText=(e?"#":"")+t.name,o.appendChild(l)})}}function o(e){var t,o=document.querySelector("#tttie-dash-p").value,l=document.querySelector("#tttie-dash-mod").value,a=document.querySelector("#tttie-dash-fm").value,r=document.querySelector("#tttie-dash-le").value;for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-fc option"))1==n.selected&&(t=n.value);var c,d,i,u=document.querySelector("#tttie-dash-wm").value;for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-wc option"))1==n.selected&&(c=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ac option"))1==n.selected&&(ac=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-role-picker#tttie-dash-mr option"))1==n.selected&&(d=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-loc option"))1==n.selected&&(i=n.value);e({prefix:o,modRole:l,farewellMessage:a,farewellChannelId:t,greetingMessage:u,greetingChannelId:c,agreeChannel:ac,memberRole:d,logEvents:r,logChannel:i})}function l(e){var t=document.querySelector("#tttie-dash-p"),o=document.querySelector("#tttie-dash-mod"),l=document.querySelector("#tttie-dash-fm"),a=document.querySelector("#tttie-dash-wm"),r=document.querySelector("#tttie-dash-le");document.querySelectorAll("select.tttie-dashboard-channel-picker > option"),document.querySelectorAll("select.tttie-dashboard-role-picker > option");for(var n of(t.value=e.prefix||"",o.value=e.modRole||"",l.value=e.farewellMessage||"",a.value=e.greetingMessage||"",r.value=e.logEvents||"",document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-fc option")))n.value===e.farewellChannelId&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-wc option"))n.value===e.greetingChannelId&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ac option"))n.value===e.agreeChannel&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-loc option"))n.value===e.logChannel&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-role-picker#tttie-dash-mr option"))n.value===e.memberRole&&(n.selected=!0);t.disabled=!1,o.disabled=!1,l.disabled=!1,a.disabled=!1,r.disabled=!1}window.addEventListener("load",function(){var a=document.querySelectorAll("select.tttie-dashboard-channel-picker"),r=document.querySelectorAll("select.tttie-dashboard-role-picker");e.ttbot.bindToSaveButton(document.querySelector("a.tttie-linkbutton#save"),l,o),e.ttbot.bindToResetButton(document.querySelector("a.tttie-linkbutton#reset"),l),e.ttbot.getAvailableChannels().then(function(o){return a.forEach(t(!0,o)),e.ttbot.getAvailableRoles()}).then(function(o){r.forEach(t(!1,o.filter(function(t){return t.id!==e.ttbot.guildId})))}).then(function(){e.ttbot.getConfig().then(l)})})}(window);