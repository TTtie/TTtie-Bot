!function(e){function t(e,t){return function(l){l.innerHTML="",l.disabled=!1;var o=document.createElement("option");o.value="",o.innerText="None",o.selected=!0,l.appendChild(o),t.forEach(function(t){var o=document.createElement("option");o.value=t.id,o.innerText=(e?"#":"")+t.name,l.appendChild(o)})}}function l(e){var t,l=document.querySelector("#tttie-dash-p").value,o=document.querySelector("#tttie-dash-mod").value,a=document.querySelector("#tttie-dash-fm").value,r=document.querySelector("#tttie-dash-le").value;for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-fc option"))1==n.selected&&(t=n.value);var c,d,i,u,s=document.querySelector("#tttie-dash-wm").value;for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-wc option"))1==n.selected&&(c=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ac option"))1==n.selected&&(ac=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-role-picker#tttie-dash-mr option"))1==n.selected&&(d=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-loc option"))1==n.selected&&(i=n.value);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ml option"))1==n.selected&&(u=n.value);e({prefix:l,modRole:o,farewellMessage:a,farewellChannelId:t,greetingMessage:s,greetingChannelId:c,agreeChannel:ac,memberRole:d,logEvents:r,logChannel:i,modlogChannel:u})}function o(e){var t=document.querySelector("#tttie-dash-p"),l=document.querySelector("#tttie-dash-mod"),o=document.querySelector("#tttie-dash-fm"),a=document.querySelector("#tttie-dash-wm"),r=document.querySelector("#tttie-dash-le");document.querySelectorAll("select.tttie-dashboard-channel-picker > option"),document.querySelectorAll("select.tttie-dashboard-role-picker > option");for(var n of(t.value=e.prefix||"",l.value=e.modRole||"",o.value=e.farewellMessage||"",a.value=e.greetingMessage||"",r.value=e.logEvents||"",document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-fc option")))n.value===e.farewellChannelId&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-wc option"))n.value===e.greetingChannelId&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ac option"))n.value===e.agreeChannel&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-loc option"))n.value===e.logChannel&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-role-picker#tttie-dash-mr option"))n.value===e.memberRole&&(n.selected=!0);for(var n of document.querySelectorAll("select.tttie-dashboard-channel-picker#tttie-dash-ml option"))n.value===e.modlogChannel&&(n.selected=!0);t.disabled=!1,l.disabled=!1,o.disabled=!1,a.disabled=!1,r.disabled=!1}window.addEventListener("load",function(){var a=document.querySelectorAll("select.tttie-dashboard-channel-picker"),r=document.querySelectorAll("select.tttie-dashboard-role-picker");e.ttbot.bindToSaveButton(document.querySelector("a.tttie-linkbutton#save"),o,l),e.ttbot.bindToResetButton(document.querySelector("a.tttie-linkbutton#reset"),o),e.ttbot.getAvailableChannels().then(function(l){return a.forEach(t(!0,l)),e.ttbot.getAvailableRoles()}).then(function(l){r.forEach(t(!1,l.filter(function(t){return t.id!==e.ttbot.guildId})))}).then(function(){e.ttbot.getConfig().then(o)})})}(window);