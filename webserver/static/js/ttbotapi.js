!function(n){var e={guildId:null,csrfToken:null,guildConfig:null,savingDashboardChanges:!1,saveDashboardChanges:function(n){return fetch("/api/config/"+e.guildId,{credentials:"include",body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json","CSRF-Token":e.csrfToken}}).then(function(n){return n.json()}).then(function(n){return e.guildConfig=n})},bindToSaveButton:function(n,i,t){n.addEventListener("click",function(){if(e.savingDashboardChanges)return!1;e.savingDashboardChanges=!0;var o=n.innerHTML;n.innerText="Saving...",t(function(t){e.saveDashboardChanges(t).then(function(){n.innerHTML=o,e.savingDashboardChanges=!1,i(e.guildConfig)})})})},bindToResetButton:function(n,i){n.addEventListener("click",function(){i(e.guildConfig)})},getAvailableChannels:function(){return fetch("/api/channels/"+e.guildId,{credentials:"include"}).then(function(n){return n.json()})},getAvailableRoles:function(){return fetch("/api/roles/"+e.guildId,{credentials:"include"}).then(function(n){return n.json()})},getConfig:function(){return fetch("/api/config/"+e.guildId,{credentials:"include"}).then(function(n){return n.json()}).then(function(n){return e.guildConfig=n})}};window.ttbot=e}();